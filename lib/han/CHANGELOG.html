<h1 id="更新紀錄-CHANGELOG"><a href="#更新紀錄-CHANGELOG" class="headerlink" title="更新紀錄　CHANGELOG"></a>更新紀錄　CHANGELOG</h1><h2 id="v3-3-0（2016-3-19）"><a href="#v3-3-0（2016-3-19）" class="headerlink" title="v3.3.0（2016-3-19）"></a>v3.3.0（2016-3-19）</h2><ol>
<li>正式改以Stylus生成發布文件（<code>han.css</code>及<code>han.min.css</code>）</li>
<li>改進相鄰文字裝飾線修正的渲染方式</li>
<li>改進漢字－西文混排間隙的處理方式</li>
<li>重新引入彎引號及漢字間的漢字－西文混排間隙，並依語言文字決定是否顯示</li>
<li>改進行尾點號懸掛的渲染方式、並簡化其生成元素及相關樣式</li>
<li>改進標點擠壓的渲染方式及相關樣式</li>
<li>改進JavaScript層面的標點樣式修正</li>
<li>修正標點擠壓、行尾點號懸掛與禁則<code>h-jinze</code>元素共存時的空隙顯示問題</li>
<li>停止更新Component套件管理器</li>
<li>更新normalize.css至v4.0.0</li>
</ol>
<h2 id="v3-2-7（2015-10-23）"><a href="#v3-2-7（2015-10-23）" class="headerlink" title="v3.2.7（2015-10-23）"></a>v3.2.7（2015-10-23）</h2><ol>
<li>修正行尾點號懸掛渲染後，造成代碼<code>code</code>等元素與空白字元相鄰時可能的錯置問題（#79）</li>
<li>加入橫排直式注音行間注（inter-character）的瀏覽器原生支援（#82）</li>
<li>修正組合字在OS X 10.11上可能的顯示問題</li>
<li>加入可調整注音符號大小的Sass/Stylus自定義變數（<code>$han-zhuyin-size</code>）</li>
</ol>
<h2 id="v3-2-6（2015-8-21）"><a href="#v3-2-6（2015-8-21）" class="headerlink" title="v3.2.6（2015-8-21）"></a>v3.2.6（2015-8-21）</h2><ol>
<li>字級選擇器（<code>h-char</code>元素）中的漢字標點加入<code>bd-*</code>類別前綴（#81）</li>
<li>修正可擠壓標點在<code>lang=&quot;zh&quot;</code>下會消失的問題</li>
</ol>
<h2 id="v3-2-5（2015-6-29）"><a href="#v3-2-5（2015-6-29）" class="headerlink" title="v3.2.5（2015-6-29）"></a>v3.2.5（2015-6-29）</h2><ol>
<li>修正標點擠壓與行尾點號懸掛共用時，無法正確擠壓的問題</li>
<li>修正標點字體在Windows下的書名號顯示問題</li>
</ol>
<h2 id="v3-2-4（2015-6-26）"><a href="#v3-2-4（2015-6-26）" class="headerlink" title="v3.2.4（2015-6-26）"></a>v3.2.4（2015-6-26）</h2><ol>
<li>改進Stylus語法</li>
<li>修正Sass/Stylus中的標點定義變數及函式</li>
<li>改進行尾點號懸掛的實作方式，不再使用偽元素顯示</li>
<li>修正強調元素（著重號）邊界的標點無法正確擠壓的問題</li>
</ol>
<h2 id="v3-2-3（2015-6-18）"><a href="#v3-2-3（2015-6-18）" class="headerlink" title="v3.2.3（2015-6-18）"></a>v3.2.3（2015-6-18）</h2><ol>
<li>加入Stylus預處理器語法</li>
<li>修正複合式行間注在不同瀏覽器下行高不一致的問題</li>
<li>腳本下，注文<code>rt</code>元素預設不渲染著重號</li>
</ol>
<h2 id="v3-2-2（2015-6-12）"><a href="#v3-2-2（2015-6-12）" class="headerlink" title="v3.2.2（2015-6-12）"></a>v3.2.2（2015-6-12）</h2><ol>
<li> 修正複合式（雙行）行間注在部分情況下未能正確包裹基文的問題</li>
<li> 改進行間注<code>ruby</code>元素的顯示方式，不再使用偽元素顯示注文</li>
<li> 調整複合式行間注各單元的盒模型寬度取値，以注文或基文寬度較大者為主，更符合HTML5標準</li>
<li> 注音符號入聲調號區段API更名：<code>Han.UNICODE.zhuyin.ruyun</code> -&gt; <code>Han.UNICODE.zhuyin.checked</code></li>
<li> Firefox 38已支援行間注<code>ruby</code>元素，調整相應的回退樣式</li>
<li> 詞組選擇器支援諺文的標點符號，更類似西文詞組</li>
<li> 支援<code>Fibre.fn.avoid()</code>等原型方法</li>
<li> 字元、詞組選擇器（<code>Han.fn.charify()</code>及<code>Han.fn.groupify()</code>）支援語言文字英文名（alias）</li>
<li> 改進行尾點號懸掛在空白字體未正確下載的回退樣式</li>
<li>加入對思源黑體（Source Han Sans/Noto Sans CJK）的支援</li>
<li>修正四大字體集在Windows上可能無法正確顯示的問題</li>
<li>改進Firefox的字體顯示問題（不支援<code>unicode-range</code>屬性的瀏覽器不使用標點修正字體）</li>
<li>支援Firefox ESR</li>
</ol>
<h2 id="v3-2-1（2015-5-1）"><a href="#v3-2-1（2015-5-1）" class="headerlink" title="v3.2.1（2015-5-1）"></a>v3.2.1（2015-5-1）</h2><ol>
<li>修正繁體中文下，可懸掛標點後的標點擠壓問題</li>
<li>更新fibre.js至v0.2.1（findAndReplaceDOMText v0.4.3）</li>
<li>同上，字元査替器現已支援預設的文字邊界，故修正部分樣式規則</li>
<li>暫時移除等寬字體基型@extend的漢字標點，避免Firefox將其顯示為比例字體</li>
</ol>
<h2 id="v3-2-0（2015-4-26）"><a href="#v3-2-0（2015-4-26）" class="headerlink" title="v3.2.0（2015-4-26）"></a>v3.2.0（2015-4-26）</h2><ol>
<li> 改進標點擠壓的處理方式，現已支援行首／行尾標點擠壓（#73）</li>
<li> 新增行尾點號懸掛功能</li>
<li> 去除彎引號二側的漢字–西文混排間隙（#59）</li>
<li> 修正Blink下的<code>Han.isCombLigaNormal</code>判斷及PUA字元（陽入韻）替換</li>
<li> 部分修正新版Firefox下的<code>@font-face</code>字體問題</li>
<li> 改進<code>Han.detectFont()</code>方法的處理方式</li>
<li> 加入文章區塊頭尾對齊的連字符樣式處理</li>
<li> 改進字級、詞級選擇器的實作方法及其選項（<code>charify()</code>及<code>grupify()</code>）</li>
<li> 修正IE下偽元素的剪貼簿行為</li>
<li>更新normalize.css至v3.0.3</li>
<li>改用符合custom elements規範的命名方式<ul>
<li><code>h-cs</code>（新增）</li>
<li><code>h-hangable</code>（新增）</li>
<li><code>char</code> -&gt; <code>h-char</code></li>
<li><code>char_group</code> -&gt; <code>h-char-group</code></li>
<li><code>word</code> -&gt; <code>h-word</code></li>
<li><code>hws</code> -&gt; <code>h-hws</code></li>
<li><code>jinze</code> -&gt; <code>h-jinze</code></li>
<li><code>inner</code> -&gt; <code>h-inner</code></li>
<li><code>hruby</code> -&gt; <code>h-ruby</code></li>
<li><code>ru</code> -&gt; <code>h-ru</code></li>
<li><code>zhuyin</code> -&gt; <code>h-zhuyin</code></li>
<li><code>yin</code> -&gt; <code>h-yin</code></li>
<li><code>diao</code> -&gt; <code>h-diao</code></li>
</ul>
</li>
</ol>
<h2 id="v3-1-1（2015-3-14）"><a href="#v3-1-1（2015-3-14）" class="headerlink" title="v3.1.1（2015-3-14）"></a>v3.1.1（2015-3-14）</h2><ol>
<li>字體發布檔案不再使用符號連接方式搬移</li>
</ol>
<h2 id="v3-1-0（2015-3-11）"><a href="#v3-1-0（2015-3-11）" class="headerlink" title="v3.1.0（2015-3-11）"></a>v3.1.0（2015-3-11）</h2><ol>
<li>修正使用https協議的網頁可能顯示警告的問題（#65）</li>
<li>修正變音元素在非漢字語言下的意大利體問題（Chrome等）</li>
<li>Grunt -&gt; Gulp</li>
<li>以Fibre.js重寫<code>Han.find</code>函式</li>
<li>改以LibSass生成發布文件</li>
<li>修正漢字－西文混排間隙在表格中可能的顯示問題</li>
<li>修正基文<code>rb</code>元素不存在時可能出錯的問題（#69）</li>
<li>修正繁體中文點號遇結束括注號的標點擠壓問題</li>
<li>不再使用<code>hyu</code>及<code>mre</code>等模組代號</li>
</ol>
<h2 id="v3-0-2（2014-12-8）"><a href="#v3-0-2（2014-12-8）" class="headerlink" title="v3.0.2（2014-12-8）"></a>v3.0.2（2014-12-8）</h2><ol>
<li>修正無法為LibSass編譯的問題（感謝 @audreyt）</li>
<li>加入<code>npm test</code></li>
<li>行間注元素的微調</li>
</ol>
<h2 id="v3-0-1（2014-12-6）"><a href="#v3-0-1（2014-12-6）" class="headerlink" title="v3.0.1（2014-12-6）"></a>v3.0.1（2014-12-6）</h2><ol>
<li>簡化CJK擴展區的正則表達式（<code>[\uD800-\uDBFF][\uDC00-\uDFFF]</code>）</li>
<li>修正中文偏好字體無法正確編譯的問題</li>
<li>修正複合式行間注元素的跨邊界問題</li>
<li>加入對三方向複合式行間注的樣式支援</li>
<li>簡化Farr構造函數的節點篩選（<code>Element.prototype.matches</code>）</li>
<li>修正未壓縮的<code>han.js</code>無法正確同其他庫串聯的問題</li>
<li>繁體中文預設使用台灣教育部式的標點集（Biaodian Pro * CNS）</li>
</ol>
<h2 id="v3-0-0（2014-10）"><a href="#v3-0-0（2014-10）" class="headerlink" title="v3.0.0（2014-10）"></a>v3.0.0（2014-10）</h2><ol>
<li> 採用新式CSS屬性支援偵測</li>
<li> Han.js模組化</li>
<li> 移除對jQuery的依賴</li>
<li> 加入訛訊、刪訂等元素的視覺間隔</li>
<li> 加入Web開放字型格式（<code>han.woff</code>）</li>
<li> 取消非國標標點之彎引號樣式修正（#48）</li>
<li> 加入對希臘字母、西里爾字母的支援（着重號、漢字西文混排間隙等，#52）</li>
<li> 更完整的標點符號支援（#52）</li>
<li> 加入對變音組字符（combining diacritical marks）的支援（#52）</li>
<li>漢字西文混排間隙新增嚴格模式（#53）</li>
<li>符合規範且更有彈性的着重號polyfill（#55）</li>
<li>為避免樣式選擇器的權重繼承問題，取消樣式表中「章節元素」「內容群組元素」<br>的語言屬性，改為全局修正（字體設定除外）</li>
<li>加入針對Firefox的簡易標點符號修正</li>
<li>引入破折號、省略號「單獨存在（—）」與「連字（——）」時的標點修正。<br>即，現無須專為西文文本加入相應的語言屬性即可正確顯示標點。</li>
<li>移除已棄用的來源元素書名號修正（#19）</li>
<li>加入相鄰元素的文字裝飾線視覺間隔修正（原底線修正）</li>
<li>加入重點、術語、關鍵字等元素對多重量字體的支援（<a href="https://github.com/necolas/normalize.css/pull/342">normalize.css/pull/342</a>）</li>
<li>修正IE無法正確顯示陽入韻連字的問題（#50）</li>
<li>修正IE11下，漢字西文混排間隙可能的掉字問題（#57）</li>
<li>加入訛字（符）替換功能（#24）</li>
<li>修正增訂元素的樣式，現同註記元素相同</li>
<li>更新Normalize.css至版本v3.0.2</li>
</ol>
<h2 id="v2-3-0（2014-2-7）"><a href="#v2-3-0（2014-2-7）" class="headerlink" title="v2.3.0（2014-2-7）"></a>v2.3.0（2014-2-7）</h2><ol>
<li> 加入圖表元素<code>&lt;figure&gt;</code>的邊界修正，以相容於新版Normalize CSS</li>
<li> 加入增訂元素<code>&lt;ins&gt;</code>的視覺底線區隔</li>
<li> 新增OpenType格式注音符號web font，並加入拉丁字母的陽入韻元音連字（ligature）</li>
<li> 修正複合式行間注元素<code>&lt;ruby&gt;</code>在Cordova Android上的問題</li>
<li> 加入文章區塊行高設定</li>
<li> 取消表單元素的字體設置，使之繼承自父元素（#47）</li>
<li> 加入聯絡資訊元素<code>&lt;address&gt;</code>的樣式修正（#49）</li>
<li> 代碼改採空格縮進，取代跳格</li>
<li> 修正漢拉間隙於各瀏覽器上顯示效果不一的問題（#40）</li>
<li>改進各Sass檔案的註解格式</li>
</ol>
<h2 id="v2-2-3（2014-1-1）"><a href="#v2-2-3（2014-1-1）" class="headerlink" title="v2.2.3（2014-1-1）"></a>v2.2.3（2014-1-1）</h2><ol>
<li>改用相對路徑呼叫注音字體（#37）</li>
<li>改進方言音符號的陽入韻顯示方式，<code>zhuyin.ttf</code>加入陽入韻連字（ligature）</li>
<li>改進相鄰註記元素的JS改寫</li>
</ol>
<h2 id="v2-2-2（2013-12-18）"><a href="#v2-2-2（2013-12-18）" class="headerlink" title="v2.2.2（2013-12-18）"></a>v2.2.2（2013-12-18）</h2><ol>
<li>WebKit已經支援了CSS3的<code>quotes</code>屬性，故取消其支援偵測及瀏覽器hack。（#33）</li>
<li>修正註記元素<code>&lt;u&gt;</code>的改寫問題（#35）</li>
</ol>
<h2 id="v2-2-1（2013-12-05）"><a href="#v2-2-1（2013-12-05）" class="headerlink" title="v2.2.1（2013-12-05）"></a>v2.2.1（2013-12-05）</h2><ol>
<li>改進了<code>&lt;ruby&gt;</code>的JS改寫並加入拼、注音共同顯示等功能（#5）</li>
<li>漢拉間隙改用自訂元素<code>&lt;hanla&gt;</code>，避免元素樣式繼承衝突（#30）</li>
</ol>
<p>[〔更多資訊〕]<br>(<a href="https://github.com/ethantw/Han/issues?milestone=5&amp;state=closed">https://github.com/ethantw/Han/issues?milestone=5&amp;state=closed</a>)</p>
<h2 id="v2-2-0（2013-11-27）"><a href="#v2-2-0（2013-11-27）" class="headerlink" title="v2.2.0（2013-11-27）"></a>v2.2.0（2013-11-27）</h2><ol>
<li>修正四大字體集與地區分支，並新增相關<code>@mixin</code>供開發者選用（#17）</li>
<li>進階版標點字體加入中國國標分支；新增等高、文本數字字體（#17）</li>
<li><em>棄用</em>來源元素<code>&lt;cite&gt;</code>的書名號樣式（#19）</li>
<li>以節點改寫相鄰註記元素<code>&lt;u&gt;</code> hack，以避免replace method同AngularJS等程式衝突（#20）</li>
<li>進階版標點字體新增全形連接號（－）、全形正、反斜線（／ ＼）、全形內括號（〔〕）等五個字符的修正（#21）</li>
<li>加入CSS3屬性<code>unicode-range</code>的功能支援偵測（#22）</li>
<li><code>jQuery(selector).charize()</code>加入12個CJK相容表意漢字支援（#23）</li>
<li>注音符號字體補足方言音擴充字符（#26）</li>
<li>修正強調元素<code>&lt;em&gt;</code>的樣式回退（#27）</li>
</ol>
<p><a href="https://github.com/ethantw/Han/issues?milestone=2&page=1&state=closed">〔更多資訊〕</a></p>
<h2 id="v2-1-2（2013-11-07）"><a href="#v2-1-2（2013-11-07）" class="headerlink" title="v2.1.2（2013-11-07）"></a>v2.1.2（2013-11-07）</h2><ol>
<li>修正<code>article:lang(zh | ja) strong</code>的字重（#16）</li>
<li>修正標點字體「Biaodian Pro Sans CNS」之分號等符號無法正確顯示的問題（#15）</li>
<li>限定<code>figure &gt; blockquote</code>的引號樣式在文章區塊下（#13）</li>
<li>實驗性底線在<code>border-box</code> reset網頁下的顯示問題（#11）</li>
<li>加入了Bower package的支援（@yhsiang，#12）</li>
</ol>
<p><a href="https://github.com/ethantw/Han/issues?milestone=3&page=1&state=closed">〔更多資訊〕</a></p>
<h2 id="v2-1-1-（2013-10-21）"><a href="#v2-1-1-（2013-10-21）" class="headerlink" title="v2.1.1 （2013-10-21）"></a>v2.1.1 （2013-10-21）</h2><ol>
<li>將normalize.css加入至<code>han.css</code>中，使用Sass取代CSS的檔案調度（#7）</li>
<li>採用Sass Partials</li>
<li>修正四大字體集、西文斜體字體會在某些瀏覽器出現偽粗體的情況（#10）</li>
<li>更新<code>findAndReplaceDOMText()</code>函式至版本0.4.0（#8、#9）</li>
<li>着重號顯示位置修正（#6）</li>
</ol>
<p><a href="https://github.com/ethantw/Han/issues?milestone=1&page=1&state=closed">〔更多資訊〕</a></p>
<h2 id="v2-1-0（2013-10-5）"><a href="#v2-1-0（2013-10-5）" class="headerlink" title="v2.1.0（2013-10-5）"></a>v2.1.0（2013-10-5）</h2><ol>
<li><p>將原<code>css/han.main.css</code>中，<br>  <code>&lt;dfn&gt;</code>的<code>font-style</code>樣式<br>由<br>  <code>normal</code><br>改為<br>  <code>inherit</code></p>
</li>
<li><p>以「SCSS」重新改寫整個CSS專案</p>
</li>
<li><p>修正與更新<code>han/ff.scss</code></p>
<ul>
<li>原第551行的錯誤</li>
<li>新增「宋體-簡」的fallback（置於「華文宋體」前方）</li>
<li>新增「宋體-繁」為「Biaodian Pro Serif CNS」的句、讀、頓號fallback</li>
</ul>
</li>
<li><p>更新<code>han/fonts.scss</code>，改以變數取代重覆的字體列表</p>
</li>
<li><p>更新<code>normalize.css</code>至2.1.3版本</p>
</li>
<li><p>停用文章內段落首行縮進的分段方式，改以適合捲軸式閱讀的段落間空行分段</p>
</li>
<li><p><code>han.js</code>中的更動</p>
<ul>
<li>加入函式庫<code>findAndReplaceDOMText()</code></li>
<li><code>$(selector).charize()</code>開放函式（原<code>han.characterize</code>）<ul>
<li>更改此函式為jQuery Plugins，並更名為較簡短的<code>charize</code><br>  <code>$(selector).charize()</code></li>
<li>加入避頭尾點支援</li>
</ul>
</li>
<li><code>han.js</code>檔案加載後置入<code>&lt;html&gt;</code>標籤的類別由<br>  <code>han-js</code><br>改名為<br>  <code>han-js-rendered</code></li>
<li>注音符號<code>&lt;ruby class=&quot;mps&quot;&gt;</code>完載後加入的類別由<pre><code>`ruby-zhuyin-constructed`
</code></pre>
改名為<br>  <code>han-js-zhuyin-rendered</code></li>
<li>「漢拉間隙」功能改用<code>findAndReplaceDOMText()</code>函式，以支援IE<br>（並取消IE專用的<code>text-autospace</code>）</li>
</ul>
</li>
<li><p>實驗性功能</p>
<ul>
<li>底線相鄰問題改用CSS3偽類選擇器重製註記元素<code>&lt;u&gt;</code>的底線，需要<pre><code>* 在`&lt;html&gt;`標籤上使用`han-lab-underline`類別
</code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="v2-0-0（2013-07-25"><a href="#v2-0-0（2013-07-25" class="headerlink" title="v2.0.0（2013-07-25)"></a>v2.0.0（2013-07-25)</h2><ol>
<li><p>程式代碼依各章節分立於各檔案中</p>
<ul>
<li>將<code>normalize.css</code>自<code>han.css</code>中獨立，以利未來更新</li>
<li>將「以『語言為基礎的元素樣式修正』的『漢字標準格式』」一節獨立（於檔案<code>han.main.css</code>中）</li>
<li>將「各元素字體及字體集設定」獨立於<code>han.font.css</code>方便參閱、除錯和修改</li>
<li>將「直式國語注音符號的<code>&lt;ruby&gt;</code>支援」獨立於<code>han.zhuyin.css</code>中，並預設關閉，以節省檔案大小</li>
</ul>
</li>
<li><p> 修正註記元素不相鄰時仍有向右位移的問題（需開啓JavaScript）</p>
</li>
<li><p>以<code>text-indent</code>取代原有的「文章內段落」首段縮進方式；<br> 加入「文章內清單」的縮進樣式。</p>
</li>
<li><p> 加入「漢拉間隙」功能（需開啓JavaScript）</p>
</li>
<li><p> 加入系統不支援「楷體」時，變音文字<code>&lt;i&gt;</code>的相應替代樣式（需開啓JavaScript）</p>
</li>
<li><p> 加入描述元素<code>&lt;figure&gt;</code>內的區塊引用<code>&lt;blockquote&gt;</code>樣式</p>
</li>
<li><p> 改進<code>&lt;ruby&gt;</code>的注音符號顯示效果</p>
</li>
<li><p> 加入手持裝置上的樣式微調</p>
</li>
<li><p> 加入「標點符號樣式修正」，並區分「預設修正」及「進階修正」二種（瀏覽器需支援<code>unicode-range</code>等CSS3屬性）</p>
</li>
<li><p>加入基本元素的指定字體修正（獨立於<code>han.fonts.css</code>），取代各瀏覽器或作業系統自動卻錯誤百出的字體集fallback</p>
</li>
<li><p>加入包含「黑、宋、楷、仿宋體」的「四大字體集」CSS3 API</p>
</li>
<li><p>JavaScript API</p>
<ul>
<li>加入「用戶端功能支援測試」<code>han.support.*function*</code></li>
<li>加入「用戶端字體（集）支援測試」<code>han.support.font()</code><ul>
<li>加入<code>&lt;ruby&gt;</code>支援偵測</li>
<li>加入<code>@font-face</code>支援偵測</li>
</ul>
</li>
<li>加入「萬國碼正則表達式」變數集<code>han.unicode[]</code>（所有CJK區段、拉丁字母區段、注音符號及擴充區段等）</li>
</ul>
</li>
<li><p>取消「類詩篇」類別<code>.poem-like</code>的元素限制，現可適用於所有區塊元素</p>
</li>
</ol>
